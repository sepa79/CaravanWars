# Użyj Dockerfile z Godotem 4.4.1
environment:
  dockerfile: ./Dockerfile

# Przykładowe zadania (możesz dostosować do swojego repo)
tasks:
  - name: godot-version
    run: godot --version

  # Opcjonalnie: sprawdzenie projektu (importy, błędy, itp.)
  - name: godot-check
    run: godot --headless --path . --check-only

  # Testy (jeśli używasz GUT albo własnych skryptów testowych)
  # - name: tests
  #   run: godot --headless -s res://addons/gut/gut_cmdln.gd -gdir=res://tests -gexit

  # Build Web (przykład) — wymaga odpowiedniej nazwy presetu w export_presets.cfg
  # Upewnij się, że masz preset o nazwie "Web".
  - name: export-web
    run: |
      mkdir -p build/web
      godot --headless --path . --export-release "Web" build/web/index.html

artifacts:
  - build/**
